# Claude Task Master - AI-Powered CI/CD Orchestration System
# Environment Configuration Template

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
DB_HOST=localhost
DB_PORT=5432
DB_NAME=claude_task_master
DB_USER=postgres
DB_PASSWORD=your_secure_password
DB_SSL_MODE=disable
DB_POOL_MAX=20
DB_POOL_MIN=5
DB_HEALTH_CHECK_INTERVAL=30000

# SSL Configuration (for production)
# DB_SSL_CA=/path/to/ca-certificate.crt
# DB_SSL_CERT=/path/to/client-certificate.crt
# DB_SSL_KEY=/path/to/client-key.key

# Read Replicas (optional, JSON array)
# DB_READ_REPLICAS=[{"host":"replica1.example.com","port":5432,"database":"claude_task_master","user":"postgres","password":"password"}]

# =============================================================================
# AI PROVIDER API KEYS
# =============================================================================
# Anthropic (Claude) - Required for Claude Code integration
ANTHROPIC_API_KEY=sk-ant-api03-your-anthropic-key-here

# OpenAI - Optional, for GPT models
OPENAI_API_KEY=sk-your-openai-key-here

# Google Gemini - Optional
GOOGLE_API_KEY=your-google-api-key-here

# Perplexity - Optional, for research capabilities
PERPLEXITY_API_KEY=pplx-your-perplexity-key-here

# xAI (Grok) - Optional
XAI_API_KEY=xai-your-xai-key-here

# OpenRouter - Optional, for multiple model access
OPENROUTER_API_KEY=sk-or-your-openrouter-key-here

# Mistral - Optional
MISTRAL_API_KEY=your-mistral-key-here

# Azure OpenAI - Optional
AZURE_OPENAI_API_KEY=your-azure-openai-key-here
AZURE_OPENAI_ENDPOINT=https://your-resource.openai.azure.com/

# Ollama - Optional, for local models
OLLAMA_API_KEY=your-ollama-key-here
OLLAMA_BASE_URL=http://localhost:11434

# =============================================================================
# SERVICE URLS AND ENDPOINTS
# =============================================================================
# AgentAPI Server URL (middleware for Claude Code, Aider, etc.)
AGENTAPI_URL=http://localhost:3284

# Codegen API URL (for code generation requests)
CODEGEN_API_URL=https://api.codegen.sh
CODEGEN_API_KEY=your-codegen-api-key-here

# GitHub API (for repository operations)
GITHUB_API_URL=https://api.github.com
GITHUB_TOKEN=ghp_your-github-personal-access-token

# GitLab API (optional)
GITLAB_API_URL=https://gitlab.com/api/v4
GITLAB_TOKEN=glpat-your-gitlab-access-token

# =============================================================================
# WSL2 AND DEPLOYMENT CONFIGURATION
# =============================================================================
# WSL2 instance path for code deployment and validation
WSL2_INSTANCE_PATH=/mnt/c/projects

# Default workspace directory
WORKSPACE_PATH=/tmp/claude-task-master-workspace

# Git configuration for automated operations
GIT_USER_NAME=Claude Task Master
GIT_USER_EMAIL=claude-task-master@example.com

# =============================================================================
# SERVER CONFIGURATION
# =============================================================================
# HTTP server port
PORT=3000

# Node.js environment
NODE_ENV=development

# CORS configuration
CORS_ORIGIN=*
CORS_CREDENTIALS=true

# Request limits
REQUEST_TIMEOUT=30000
MAX_REQUEST_SIZE=10mb

# =============================================================================
# WEBHOOK CONFIGURATION
# =============================================================================
# Webhook secret for GitHub/GitLab verification
WEBHOOK_SECRET=your-webhook-secret-here

# Webhook endpoint path
WEBHOOK_PATH=/webhook

# =============================================================================
# CI/CD PIPELINE CONFIGURATION
# =============================================================================
# Maximum retry attempts for failed pipeline steps
MAX_PIPELINE_RETRIES=3

# Retry delay in milliseconds
PIPELINE_RETRY_DELAY=5000

# Pipeline timeout in milliseconds (30 minutes)
PIPELINE_TIMEOUT=1800000

# AgentAPI session timeout in milliseconds (10 minutes)
AGENTAPI_SESSION_TIMEOUT=600000

# =============================================================================
# LOGGING AND MONITORING
# =============================================================================
# Log level (error, warn, info, debug)
LOG_LEVEL=info

# Enable structured logging
STRUCTURED_LOGGING=true

# Metrics collection interval in milliseconds
METRICS_INTERVAL=60000

# Health check endpoint
HEALTH_CHECK_PATH=/health

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================
# JWT secret for API authentication (generate a strong secret)
JWT_SECRET=your-jwt-secret-here

# API rate limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# Session configuration
SESSION_SECRET=your-session-secret-here
SESSION_TIMEOUT=3600000

# =============================================================================
# FEATURE FLAGS
# =============================================================================
# Enable/disable specific features
ENABLE_AUTO_PR_VALIDATION=true
ENABLE_AUTO_CODE_GENERATION=true
ENABLE_AUTO_DEPLOYMENT=false
ENABLE_ERROR_AUTO_FIXING=true
ENABLE_METRICS_COLLECTION=true

# =============================================================================
# DEVELOPMENT CONFIGURATION
# =============================================================================
# Enable debug mode
DEBUG=false

# Mock external services for testing
MOCK_AGENTAPI=false
MOCK_CODEGEN=false
MOCK_GITHUB=false

# Test database (for running tests)
TEST_DB_NAME=claude_task_master_test

# =============================================================================
# PRODUCTION OPTIMIZATIONS
# =============================================================================
# Database connection pool settings for production
PROD_DB_POOL_MAX=50
PROD_DB_POOL_MIN=10

# Cache settings
ENABLE_QUERY_CACHE=true
QUERY_CACHE_TTL=300000

# Compression
ENABLE_GZIP=true

# =============================================================================
# BACKUP AND RECOVERY
# =============================================================================
# Database backup configuration
BACKUP_ENABLED=false
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30
BACKUP_S3_BUCKET=your-backup-bucket

# =============================================================================
# NOTIFICATION CONFIGURATION
# =============================================================================
# Slack notifications
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/your/slack/webhook
SLACK_CHANNEL=#ci-cd-notifications

# Email notifications
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASS=your-app-password
NOTIFICATION_FROM_EMAIL=claude-task-master@example.com

# =============================================================================
# CUSTOM CONFIGURATION
# =============================================================================
# Add your custom environment variables here
# CUSTOM_FEATURE_FLAG=true
# CUSTOM_API_ENDPOINT=https://api.example.com

