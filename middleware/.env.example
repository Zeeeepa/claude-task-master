# AgentAPI Middleware Environment Configuration
# Copy this file to .env and configure your settings

# Server Configuration
AGENTAPI_HOST=localhost
AGENTAPI_PORT=3285
WORKSPACE_ROOT=/tmp/agentapi-workspaces

# CORS Configuration
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:3284,http://localhost:8080

# Agent API Keys (at least one required)
ANTHROPIC_API_KEY=your_anthropic_key_here
OPENAI_API_KEY=your_openai_key_here
GOOGLE_API_KEY=your_google_key_here
MISTRAL_API_KEY=your_mistral_key_here
OPENROUTER_API_KEY=your_openrouter_key_here
XAI_API_KEY=your_xai_key_here

# Agent Commands (customize if agents are in different locations)
CLAUDE_COMMAND=claude
GOOSE_COMMAND=goose
AIDER_COMMAND=aider
CODEX_COMMAND=codex

# Agent Arguments (space-separated)
CLAUDE_ARGS=--allowedTools "Bash(git*) Edit Replace"
GOOSE_ARGS=
AIDER_ARGS=--model sonnet
CODEX_ARGS=

# Agent Timeouts (milliseconds)
CLAUDE_TIMEOUT=30000
GOOSE_TIMEOUT=30000
AIDER_TIMEOUT=30000
CODEX_TIMEOUT=30000

# Agent Retries
CLAUDE_RETRIES=3
GOOSE_RETRIES=3
AIDER_RETRIES=3
CODEX_RETRIES=3

# Resource Limits
MAX_CONCURRENT_WORKSPACES=10
MAX_CONCURRENT_DEPLOYMENTS=5
CLAUDE_MEMORY_LIMIT=1g
CLAUDE_CPU_LIMIT=1.0
GOOSE_MEMORY_LIMIT=1g
GOOSE_CPU_LIMIT=1.0
AIDER_MEMORY_LIMIT=1g
AIDER_CPU_LIMIT=1.0
CODEX_MEMORY_LIMIT=512m
CODEX_CPU_LIMIT=0.5

# Deployment Configuration
DEPLOYMENT_TIMEOUT=600000
VALIDATION_TIMEOUT=300000
VALIDATION_RULES=syntax-check,lint-check,test-run,build-check

# Git Configuration
GIT_USER_NAME=AgentAPI Bot
GIT_USER_EMAIL=agentapi@example.com
GIT_DEFAULT_BRANCH=main

# State Management
STATE_FILE=/tmp/agentapi-state.json
STATE_PERSISTENCE_INTERVAL=30000
MAX_HISTORY_ENTRIES=1000
STATE_CLEANUP_INTERVAL=3600000

# Health Monitoring
HEALTH_CHECK_INTERVAL=30000
METRICS_RETENTION=86400000

# Alert Thresholds
CPU_WARNING_THRESHOLD=70
CPU_CRITICAL_THRESHOLD=90
MEMORY_WARNING_THRESHOLD=80
MEMORY_CRITICAL_THRESHOLD=95
DISK_WARNING_THRESHOLD=85
DISK_CRITICAL_THRESHOLD=95
AGENT_RESPONSE_WARNING=10000
AGENT_RESPONSE_CRITICAL=30000
ERROR_RATE_WARNING=0.1
ERROR_RATE_CRITICAL=0.25

# Workspace Configuration
WORKSPACE_CLEANUP_INTERVAL=3600000
MAX_WORKSPACE_AGE=86400000
DISK_SPACE_THRESHOLD=0.9

# Logging Configuration
LOG_LEVEL=info
LOG_FORMAT=json
FILE_LOGGING_ENABLED=false
LOG_FILE_PATH=/tmp/agentapi.log
LOG_FILE_MAX_SIZE=10m
LOG_FILE_MAX_FILES=5
CONSOLE_LOGGING_ENABLED=true
LOG_COLORIZE=true

# Error Handling
MAX_ERROR_RETRIES=3
ERROR_RETRY_DELAY=5000
ENABLE_ERROR_RECOVERY=true
ERROR_REPORTING_ENABLED=false
ERROR_REPORTING_ENDPOINT=
ERROR_REPORTING_API_KEY=

# WSL2 Configuration
WSL2_ENABLED=false
WSL2_DISTRO=Ubuntu
WSL2_USER=ubuntu
WSL2_HOME_DIR=/home/ubuntu
WSL2_SETUP_SCRIPT=./wsl2-setup/setup.sh
WSL2_MEMORY_LIMIT=4g
WSL2_PROCESSORS=2
WSL2_SWAP=1g

# CI/CD Integration
WEBHOOK_SECRET=your_webhook_secret_here
SUPPORTED_WEBHOOK_EVENTS=pull_request,push,workflow_run
AUTO_VALIDATION_ENABLED=true
AUTO_DEPLOYMENT_ENABLED=true
STATUS_REPORTING_ENABLED=true
GITHUB_TOKEN=your_github_token_here
GITLAB_TOKEN=your_gitlab_token_here

# Notification Configuration
ALERT_WEBHOOK_URL=
EMAIL_ALERTS_ENABLED=false
SMTP_HOST=
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=
SMTP_PASS=
ALERT_EMAIL_FROM=agentapi@example.com
ALERT_EMAIL_TO=admin@example.com

# Database Configuration (optional)
DATABASE_ENABLED=false
DATABASE_TYPE=postgresql
DATABASE_HOST=localhost
DATABASE_PORT=5432
DATABASE_NAME=agentapi
DATABASE_USER=agentapi
DATABASE_PASSWORD=your_db_password_here
DATABASE_SSL=false
DATABASE_POOL_MIN=2
DATABASE_POOL_MAX=10

# Development/Testing
NODE_ENV=development

